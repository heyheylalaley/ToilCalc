# –£—á—ë—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–æ–∫ –∏ –æ—Ç–≥—É–ª–æ–≤ (1.5x)

–í–µ–±-—Å–µ—Ä–≤–∏—Å –¥–ª—è —É—á—ë—Ç–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–æ–∫ –∏ –æ—Ç–≥—É–ª–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GitHub Pages –∏ Google Sheets.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **Frontend**: HTML + CSS + JavaScript (Vanilla)
- **–•–æ—Å—Ç–∏–Ω–≥**: GitHub Pages
- **Backend**: Google Apps Script (GAS)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: Google Sheets

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –î–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞ –æ—Ç–≥—É–ª–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –æ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞—Ö –∏ –æ—Ç–≥—É–ª–∞—Ö
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–∏—á–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –∏—Ö –±–∞–ª–∞–Ω—Å–æ–≤
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏ (1.5x ‚Üí 2.0x –∏ —Ç.–¥.)
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–∞ –∑–∞ –º–µ—Å—è—Ü –≤ CSV

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Sheets

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é Google –¢–∞–±–ª–∏—Ü—É
2. –°–æ–∑–¥–∞–π—Ç–µ 3 –ª–∏—Å—Ç–∞:
   - **Users** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
   - **Logs** ‚Äî –∑–∞–ø–∏—Å–∏ –æ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞—Ö/–æ—Ç–≥—É–ª–∞—Ö
   - **Settings** ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

3. –ù–∞ –ª–∏—Å—Ç–µ **Users** —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:
   ```
   id | name | email | role
   ```
   –î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   ```
   1 | Admin | admin@company.com | admin
   ```

4. –ù–∞ –ª–∏—Å—Ç–µ **Logs** —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:
   ```
   id | userEmail | date | type | factHours | creditedHours | comment | createdAt
   ```

5. –ù–∞ –ª–∏—Å—Ç–µ **Settings** —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:
   ```
   key | value
   ```
   –î–æ–±–∞–≤—å—Ç–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç:
   ```
   overtimeMultiplier | 1.5
   ```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Apps Script

1. –í Google –¢–∞–±–ª–∏—Ü–µ –æ—Ç–∫—Ä–æ–π—Ç–µ **–†–∞—Å—à–∏—Ä–µ–Ω–∏—è ‚Üí Apps Script**
2. –£–¥–∞–ª–∏—Ç–µ –∫–æ–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `gas-backend.gs` –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
4. **–í–ê–ñ–ù–û**: –ó–∞–º–µ–Ω–∏—Ç–µ `YOUR_SPREADSHEET_ID_HERE` –Ω–∞ ID –≤–∞—à–µ–π —Ç–∞–±–ª–∏—Ü—ã
   - ID –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ URL: `https://docs.google.com/spreadsheets/d/SPREADSHEET_ID/edit`
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç (Ctrl+S)
6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `initializeSheets()` –æ–¥–∏–Ω —Ä–∞–∑ (–≤—ã–±–µ—Ä–∏—Ç–µ –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ –∏ –Ω–∞–∂–º–∏—Ç–µ ‚ñ∂Ô∏è)
   - –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü, –µ—Å–ª–∏ –µ—ë –µ—â—ë –Ω–µ—Ç

### –®–∞–≥ 3: –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ Google Apps Script

1. –ù–∞–∂–º–∏—Ç–µ **Deploy ‚Üí New deployment**
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø: **Web app**
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Description**: "Overtime Tracker API"
   - **Execute as**: Me (–≤–∞—à –∞–∫–∫–∞—É–Ω—Ç)
   - **Who has access**: Anyone (–∏–ª–∏ "Anyone with Google account" –¥–ª—è –±–æ–ª—å—à–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
4. –ù–∞–∂–º–∏—Ç–µ **Deploy**
5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è** ‚Äî –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ
6. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google OAuth

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –í–∫–ª—é—á–∏—Ç–µ **Google+ API** (–∏–ª–∏ **Google Identity Services API**)
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Credentials ‚Üí Create Credentials ‚Üí OAuth client ID**
5. –¢–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: **Web application**
6. –î–æ–±–∞–≤—å—Ç–µ **Authorized JavaScript origins**:
   - `https://YOUR_USERNAME.github.io`
   - `http://localhost:8000` (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
7. –î–æ–±–∞–≤—å—Ç–µ **Authorized redirect URIs**:
   - `https://YOUR_USERNAME.github.io`
8. –°–æ–∑–¥–∞–π—Ç–µ –∏ **—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ Client ID**

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `app.js`
2. –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –æ–±—ä–µ–∫—Ç–µ `CONFIG`:
   ```javascript
   const CONFIG = {
     GAS_API_URL: '–í–ê–®_URL_–ò–ó_–®–ê–ì–ê_3',
     GOOGLE_CLIENT_ID: '–í–ê–®_CLIENT_ID_–ò–ó_–®–ê–ì–ê_4'
   };
   ```

### –®–∞–≥ 6: –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ GitHub Pages

1. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git add .
   git commit -m "Initial commit"
   git push
   ```

2. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Pages**
   - **Source**: –≤—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É (–æ–±—ã—á–Ω–æ `main` –∏–ª–∏ `master`)
   - **Folder**: `/ (root)`
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

3. –ß–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç —Å–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
   `https://YOUR_USERNAME.github.io`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ index.html          # –û—Å–Ω–æ–≤–Ω–æ–π HTML —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ styles.css          # –°—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ app.js             # –õ–æ–≥–∏–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
‚îú‚îÄ‚îÄ gas-backend.gs     # Google Apps Script –∫–æ–¥
‚îî‚îÄ‚îÄ README.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Google OAuth
- –ü—Ä–æ–≤–µ—Ä–∫–∞ email –≤ —Ç–∞–±–ª–∏—Ü–µ Users
- –†–æ–ª–∏ (user/admin) –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –¥–æ—Å—Ç—É–ø

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ JWT —Ç–æ–∫–µ–Ω–æ–≤ –≤ GAS
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ Google Sheets —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–º –∞–∫–∫–∞—É–Ω—Ç–∞–º
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "Anyone with Google account" –≤–º–µ—Å—Ç–æ "Anyone" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Web App
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –≤ Google Apps Script

## üß™ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π HTTP-—Å–µ—Ä–≤–µ—Ä:

```bash
# Python 3
python -m http.server 8000

# Node.js (http-server)
npx http-server -p 8000

# PHP
php -S localhost:8000
```

–ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8000` –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

**–í–∞–∂–Ω–æ**: –î–æ–±–∞–≤—å—Ç–µ `http://localhost:8000` –≤ Authorized JavaScript origins –≤ Google Cloud Console.

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ Users
| id | name | email | role |
|----|------|-------|------|
| 1 | Ivan Petrov | ivan@company.com | user |
| 2 | Admin | admin@company.com | admin |

### –¢–∞–±–ª–∏—Ü–∞ Logs
| id | userEmail | date | type | factHours | creditedHours | comment | createdAt |
|----|-----------|------|------|-----------|---------------|---------|-----------|
| 1 | ivan@... | 2025-01-10 | overtime | 4 | 6 | Project X | 2025-01-10 |

**–§–æ—Ä–º—É–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è:**
- –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞: `creditedHours = factHours √ó multiplier`
- –û—Ç–≥—É–ª: `creditedHours = -factHours`

### –¢–∞–±–ª–∏—Ü–∞ Settings
| key | value |
|-----|-------|
| overtimeMultiplier | 1.5 |

## üîß API Endpoints

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –∫ Google Apps Script Web App URL.

### POST `/login`
–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Google OAuth —Ç–æ–∫–µ–Ω.

**Request:**
```json
{
  "token": "GOOGLE_JWT_TOKEN"
}
```

**Response:**
```json
{
  "success": true,
  "user": {
    "id": 1,
    "name": "Ivan Petrov",
    "email": "ivan@company.com",
    "role": "user"
  }
}
```

### GET `/getLogs?email=user@example.com`
–ü–æ–ª—É—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### GET `/getAllLogs`
–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ª–æ–≥–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞).

### GET `/getUsers`
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞).

### GET `/getSettings`
–ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫.

### POST `/addLog`
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏.

**Request:**
```json
{
  "userEmail": "ivan@company.com",
  "date": "2025-01-10",
  "type": "overtime",
  "factHours": 4,
  "creditedHours": 6,
  "comment": "Project X"
}
```

### POST `/deleteLog?id=1`
–£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞).

### POST `/updateSettings`
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞).

**Request:**
```json
{
  "overtimeMultiplier": 2.0
}
```

### GET `/export?month=2025-01`
–≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–∞ –∑–∞ –º–µ—Å—è—Ü –≤ CSV (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞).

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "User not found"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ç–∞–±–ª–∏—Ü—É Users
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Google –∞–∫–∫–∞—É–Ω—Ç

### –û—à–∏–±–∫–∞ CORS
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Web App —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç —Å –¥–æ—Å—Ç—É–ø–æ–º "Anyone"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL –≤ CONFIG.GAS_API_URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### –ö–Ω–æ–ø–∫–∞ Google Sign-In –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ GOOGLE_CLIENT_ID –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω –¥–æ–±–∞–≤–ª–µ–Ω –≤ Authorized JavaScript origins
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ Google Sheets
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Web App –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Google Apps Script (View ‚Üí Logs)

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–°–æ–∑–¥–∞–Ω–æ –¥–ª—è —É—á—ë—Ç–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–æ–∫ –∏ –æ—Ç–≥—É–ª–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.
