<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–£—á—ë—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–æ–∫ –∏ –æ—Ç–≥—É–ª–æ–≤</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
  <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
  <div id="loginScreen" class="login-screen">
    <div class="login-card">
      <div class="login-header">
        <div class="icon-clock">‚è∞</div>
        <h1>–£—á—ë—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–æ–∫</h1>
        <p>–∏ –æ—Ç–≥—É–ª–æ–≤ (1.5x)</p>
      </div>
      <div id="googleSignInButton" class="google-signin-container"></div>
      <p class="login-hint">–í–æ–π–¥–∏—Ç–µ —Å –ø–æ–º–æ—â—å—é –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ Google –∞–∫–∫–∞—É–Ω—Ç–∞</p>
    </div>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
  <div id="mainApp" class="main-app hidden">
    <!-- –•–µ–¥–µ—Ä -->
    <header class="app-header">
      <div class="header-content">
        <div class="header-left">
          <div class="icon-clock">‚è∞</div>
          <div>
            <h1 id="headerTitle">–£—á—ë—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–æ–∫</h1>
            <p id="headerSubtitle" class="header-subtitle"></p>
          </div>
        </div>
        <div class="header-actions">
          <div id="adminControls" class="admin-controls hidden">
            <button id="settingsBtn" class="btn btn-secondary">
              <span>‚öôÔ∏è</span> –ö–æ—ç—Ñ—Ñ: <span id="multiplierDisplay">1.5</span>x
            </button>
            <button id="exportBtn" class="btn btn-success">
              <span>üì•</span> –≠–∫—Å–ø–æ—Ä—Ç
            </button>
          </div>
          <button id="logoutBtn" class="btn btn-secondary">
            <span>üö™</span> –í—ã—Ö–æ–¥
          </button>
        </div>
      </div>
    </header>

    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ -->
    <div id="userView" class="user-view hidden">
      <div class="container">
        <!-- –ë–∞–ª–∞–Ω—Å -->
        <div class="balance-card">
          <p class="balance-label">–í–∞—à —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</p>
          <p id="userBalance" class="balance-value">0.0 —á</p>
          <p class="balance-multiplier">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏: <span id="userMultiplier">1.5</span>x</p>
        </div>

        <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
        <div class="card">
          <div id="addFormToggle" class="add-form-toggle">
            <button class="btn btn-primary btn-large">
              <span>‚ûï</span> –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å
            </button>
          </div>
          <form id="addLogForm" class="add-log-form hidden">
            <h3>–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å</h3>
            
            <div class="form-group">
              <label>–¢–∏–ø</label>
              <div class="type-selector">
                <button type="button" class="type-btn active" data-type="overtime">
                  –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞
                </button>
                <button type="button" class="type-btn" data-type="timeoff">
                  –û—Ç–≥—É–ª
                </button>
              </div>
            </div>

            <div class="form-group">
              <label for="logDate">–î–∞—Ç–∞</label>
              <input type="date" id="logDate" required>
            </div>

            <div class="form-group">
              <label for="logHours">–ß–∞—Å—ã</label>
              <input type="number" id="logHours" step="0.25" min="0.25" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 4.5">
              <p id="creditedPreview" class="credited-preview"></p>
            </div>

            <div class="form-group">
              <label for="logComment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
              <input type="text" id="logComment" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü—Ä–æ–µ–∫—Ç X, —Å—Ä–æ—á–Ω–∞—è –∑–∞–¥–∞—á–∞">
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
              <button type="button" id="cancelFormBtn" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
            </div>
          </form>
        </div>

        <!-- –ò—Å—Ç–æ—Ä–∏—è -->
        <div class="card">
          <h2 class="card-title">
            <span>üìÖ</span> –í–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è
          </h2>
          <div id="userLogs" class="logs-list"></div>
        </div>
      </div>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –∞–¥–º–∏–Ω–∞ -->
    <div id="adminView" class="admin-view hidden">
      <div class="container">
        <!-- –°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ -->
        <div class="card">
          <h2 class="card-title">
            <span>üë•</span> –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
          </h2>
          <div id="usersList" class="users-list"></div>
        </div>

        <!-- –ò—Å—Ç–æ—Ä–∏—è -->
        <div class="card">
          <h2 class="card-title">
            <span>üìã</span> <span id="historyTitle">–í—Å–µ –∑–∞–ø–∏—Å–∏</span>
          </h2>
          <div id="adminLogs" class="logs-table-container">
            <table class="logs-table">
              <thead>
                <tr>
                  <th>–î–∞—Ç–∞</th>
                  <th>–°–æ—Ç—Ä—É–¥–Ω–∏–∫</th>
                  <th>–¢–∏–ø</th>
                  <th class="text-right">–§–∞–∫—Ç (—á)</th>
                  <th class="text-right">–ù–∞—á–∏—Å–ª–µ–Ω–æ</th>
                  <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
                  <th class="text-center">–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
              </thead>
              <tbody id="adminLogsBody"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading overlay -->
  <div id="loadingOverlay" class="loading-overlay hidden">
    <div class="spinner"></div>
  </div>

  <script src="app.js"></script>
</body>
</html>